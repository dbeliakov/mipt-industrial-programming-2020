<!DOCTYPE html><html lang="en"><head><title>Промышленное программирование</title><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="../../../common/shower/themes/ribbon/styles/screen-16x10.css"><style type="text/css">.caption {
    color: #FFF;
}</style></head><body class="shower list"><header class="caption"><h1>Промышленное программирование</h1><p>Лекция 5. Чистый код</p></header><section id="cover" class="slide"><h2>Лекция 5. Чистый код</h2><p>Промышленное программирование @ МФТИ, 2020-2021</p><img src="../../../common/cover.jpg" alt="" class="cover"><style type="text/css">#cover h2 {
    margin: 30px 0 0;
    color: #FFF;
    text-align: center;
    font-size: 70px;
    text-shadow: black 1px 1px 0, black -1px -1px 0, 
                 black -1px 1px 0, black 1px -1px 0;
}
#cover p {
    margin: 10px 0 0;
    text-align: center;
    color: #FFF;
    font-style: italic;
    font-size: 20px;
    text-shadow: black 1px 1px 0, black -1px -1px 0, 
                 black -1px 1px 0, black 1px -1px 0;
}
#cover p a {
    color: #FFF;
    text-shadow: black 1px 1px 0, black -1px -1px 0, 
                 black -1px 1px 0, black 1px -1px 0;
}
</style></section><section class="slide"><h2>"Герб" типичного программиста</h2><img src="img/bad_code.jpg" height="70%"></section><section class="slide"><h2>Хороший код</h2><p style="font-size: 25pt;">Что такое "хороший" код?</p><p style="font-size: 25pt;">Какими свойствами должен обладать "хороший" код?</p></section><section class="slide"><h2>Хороший код</h2><ul><li>Компилируется и запускается</li><li>Решает свою задачу</li><li>Решает ее оптимально</li><li>"Make It Work, Make It Right, Make It Fast" Kent Beck, часть Unix Way</li></ul></section><section class="slide"><h2>Хороший код</h2><ul><li>Программа - для машины, код - для людей</li><li>Современные проекты разрабатываются большими (порой интернациональными) командами</li><li>Это предъявляет существенные требования к качеству кода</li><li>KISS - Keep It Simple, Stupid!. Простота и ясность - универсальное правило хорошего кода.</li><li>Однако читабельность не должна быть результатом упрощения</li></ul></section><section class="slide"><h2>Хороший код</h2><div>Хороший код должен:</div><ul><li>Обеспечивать лёгкое покрытие кода тестами и отладку</li><li>Облегчать восприятие кода и использование программы</li><li>Гарантировать лёгкость сопровождения</li><li>Упрощать процесс внесения дальнейших изменений</li><li>Обеспечивать устойчивость программы</li><li>Обеспечивать возможность поддержки проекта несколькими разработчиками или целыми сообществами</li></ul></section><section class="slide"><h2>Написание хорошего кода</h2><ul><li>Есть множество путей решения задачи. Перед написанием кода, нужно выбрать лучший для <b>этой конкретной</b> задачи</li><li>При решении нужно оценить максимально возможное количество кейсов - и решать исходя из них</li><li>Полезно исходить от конечного результата, который хочется получить</li><li>Предусмотреть, как можно протестировать результат решения задачи. Желательно, автоматически и детерминировано</li></ul></section><section class="slide"><h2>Написание хорошего кода</h2><ul><li>Какие кейсы могут быть у задачи?</li><li>Все ли я учел?</li><li>Что может пойти не так?</li><li>Что можно объединить?</li><li>Есть ли похожий функционал?</li><li>Что тут лишнее?</li><li>Как сделать проще?</li><li>Как сделать читабельнее?</li><li>Как сделать понятнее?</li></ul></section><section class="slide"><h2>Чистый код</h2><ul><li>Простой, выразительный, направленный на конкретную задачу</li><li>Комментарии в коде не должны пояснять работу кода. Код без комментариев должен быть легко читаем и понятен</li><li>Мало завязан на других сущностях. Чем обособленнее код, тем проще его модифицировать</li><li>Любая сущность должна отвечать за один функционал и выполнять его хорошо - Single Responsibility</li><li>Код должен читаться сверху вниз - как книга</li></ul></section><section class="slide"><h2>Наименование сущностей</h2><div>Когда придумываешь, как назвать переменную</div><img src="img/name.jpg" height="70%"></section><section class="slide"><h2>Наименования сущностей</h2><ul><li>Имя должно быть лаконичным, но при этом отвечать, почему она существует, что делает и для чего используется</li><li>Сущность не должна иметь название непонятное или не соответствующее функционалу</li><li>Сущность, которая имеет в названии "And", "With" — нарушает Single Responsibility</li><li>Недопустимы "магические числа" - нетривиальные константы стоит выносить и давать им осознанные имена</li></ul></section><section class="slide"><h2>Наименование сущностей</h2><ul><li>Названия методов должны содержать глагол, который описывает, что этот метод делает и ключевое слово с которым работает данный метод</li><li>Нужно избегать одинаковых наименований для двух разных целей</li><li>Две сущности с похожими названиями можно либо объединить, либо переименовать</li><li>Длинное и понятное имя лучше, чем короткое, но непонятное</li></ul></section><section class="slide"><h2>Функции</h2><ul><li>Функции должны быть короткими и компактными</li><li>Приблизительный максимум 20 строк и 150 символов в одной строке, если не влезает, то нужно разделять</li><li>Функция должна выполнять только одну операцию</li><li>Если входных аргументов больше трех, то стоит задуматься каким образом лучше от них избавиться, например, создать класс для этих аргументов</li><li>Функция в которую передается аргумент-флаг, от которого зависит работа функции говорит о том, что функция выполняет более одной операции</li></ul></section><section class="slide"><h2>Комментарии</h2><ul><li>Не комментируй плохой код — перепиши его. Не стоит объяснять, что происходит в плохом коде, лучше сделать его явным и понятным</li><li>Комментарии можно использовать для передачи какой-то информации, предупреждения о последствиях, но не для объяснения</li><li>Используй TODO и FIXME в тех случаях, когда нужно пометить, что код нуждается в доработке, но сейчас нет ресурсов на это</li><li>Документируй код, который является сложным, но чистым</li><li>Не оставляй старый закомментированный код</li></ul></section><section class="slide"><h2>Чистый код</h2><ul><li>Нужно стараться прятать все детали реализации, которые не нужны снаружи. Закоммиченная публичная сущность - контракт</li><li>Всегда нужно помнить, какие ошибки могут случиться с вызываемым кодом. Необработанный NullPointerException стол многим компания очень больших денег</li><li>Важно соблюдать идеологию той технологии, которая используется </li></ul></section><div class="progress"></div><script src="../../../common/shower/shower.min.js"></script></body></html>